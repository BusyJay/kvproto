syntax = "proto2";
package statpb;

import "gogoproto/gogo.proto";

enum MessageType {
	Ping               = 0;
}

message Timespec {
    optional int64 sec                = 1 [(gogoproto.nullable) = false];
    optional int32 nsec               = 2 [(gogoproto.nullable) = false]; 
}

message PingReq {
    optional Timespec ping_ts         = 1;
}

message PingResp {
    optional Timespec ping_ts         = 1;
}

message RequestHeader {  
	optional uint64 id                = 1;
	optional uint64 from_store_id     = 2;
	optional uint64 to_store_id       = 3;
}

message ResponseHeader {
	optional uint64 id                = 1;
	optional uint64 from_store_id    = 2;
	optional uint64 to_store_id       = 3;
}

message Request {
	optional RequestHeader header                           = 1;
	optional MessageType msg_type                           = 2 [(gogoproto.nullable) = false];
	optional PingReq ping_req                               = 3;
}

message Response {
	optional ResponseHeader header                          = 1;
	optional MessageType msg_type                           = 2 [(gogoproto.nullable) = false];
	optional PingResp ping_resp                             = 3;
}